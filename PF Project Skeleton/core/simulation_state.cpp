#include "simulation_state.h"
#include <cstring>

// ============================================================================
// SIMULATION_STATE.CPP - Global state definitions
// ============================================================================

// ----------------------------------------------------------------------------
// GRID
// ----------------------------------------------------------------------------
int rows = 0;
int cols = 0;
char grid[200][200];


// ----------------------------------------------------------------------------
// TRAINS
// ----------------------------------------------------------------------------
int trainCount = 0;
int trainRow[200];
int trainCol[200];
int trainDir[200];
bool trainActive[200];
int trainStartTick[200];
int spawnRow[200];
int spawnCol[200];


// ----------------------------------------------------------------------------
// SWITCHES
// ----------------------------------------------------------------------------
int switchCount = 0;
char switchId[200];
int switchState[200];
int switchCounter[200];
bool switchFlipQueued[200];
// ----------------------------------------------------------------------------
// SPAWN AND DESTINATION POINTS
// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------
// SIMULATION PARAMETERS
// ----------------------------------------------------------------------------
int currentTick = 0;
int totalTicks = 9999;
bool simulationComplete = false;

// ----------------------------------------------------------------------------
// METRICS
// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------
// EMERGENCY HALT
// ----------------------------------------------------------------------------
bool emergencyActive = false;
int emergencyTimer = 0;

// ============================================================================
// INITIALIZE SIMULATION STATE
// ============================================================================
// ----------------------------------------------------------------------------
// Resets all global simulation state.
// ----------------------------------------------------------------------------
// Called before loading a new level.
// ----------------------------------------------------------------------------
void initializeSimulationState()
{
    currentTick = 0;
    simulationComplete = false;
}